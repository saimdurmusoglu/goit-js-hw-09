{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet submitted = false;\n\nfunction getSavedData() {\n  const saved = localStorage.getItem(STORAGE_KEY);\n  return saved ? JSON.parse(saved) : { email: '', message: '' };\n}\n\nfunction saveData(data) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n\nfunction loadFormData() {\n  const data = getSavedData();\n  form.elements.email.value = data.email || '';\n  form.elements.message.value = data.message || '';\n}\n\nfunction isValidEmail(email) {\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n}\n\nfunction debounce(func, delay) {\n  let timeoutId;\n  return function (...args) {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => func.apply(this, args), delay);\n  };\n}\n\nconst debouncedSave = debounce(data => {\n  saveData(data);\n}, 500);\n\nfunction onInputChange(event) {\n  const { name, value } = event.target;\n  if (!['email', 'message'].includes(name)) return;\n\n  if (submitted) {\n    localStorage.removeItem(STORAGE_KEY);\n    submitted = false;\n  }\n\n  const savedData = getSavedData();\n  const updatedData = { ...savedData, [name]: value.trim() };\n\n  debouncedSave(updatedData);\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n\n  if (!email || !message) {\n    alert('Lütfen hem email hem de mesaj alanını doldurun.');\n    return;\n  }\n\n  if (!isValidEmail(email)) {\n    alert('Lütfen geçerli bir email adresi girin.');\n    return;\n  }\n\n  const submittedData = { email, message };\n  console.log('Gönderilen veri:', submittedData);\n\n  localStorage.removeItem(STORAGE_KEY);\n  form.reset();\n  submitted = true;\n}\n\nform.addEventListener('input', onInputChange);\nform.addEventListener('submit', onFormSubmit);\n\nloadFormData();\n"],"names":["form","STORAGE_KEY","submitted","getSavedData","saved","saveData","data","loadFormData","isValidEmail","email","debounce","func","delay","timeoutId","args","debouncedSave","onInputChange","event","name","value","updatedData","onFormSubmit","message"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAc,sBAEpB,IAAIC,EAAY,GAEhB,SAASC,GAAe,CACtB,MAAMC,EAAQ,aAAa,QAAQH,CAAW,EAC9C,OAAOG,EAAQ,KAAK,MAAMA,CAAK,EAAI,CAAE,MAAO,GAAI,QAAS,EAAI,CAC/D,CAEA,SAASC,EAASC,EAAM,CACtB,aAAa,QAAQL,EAAa,KAAK,UAAUK,CAAI,CAAC,CACxD,CAEA,SAASC,GAAe,CACtB,MAAMD,EAAOH,EAAc,EAC3BH,EAAK,SAAS,MAAM,MAAQM,EAAK,OAAS,GAC1CN,EAAK,SAAS,QAAQ,MAAQM,EAAK,SAAW,EAChD,CAEA,SAASE,EAAaC,EAAO,CAC3B,MAAO,6BAA6B,KAAKA,CAAK,CAChD,CAEA,SAASC,EAASC,EAAMC,EAAO,CAC7B,IAAIC,EACJ,OAAO,YAAaC,EAAM,CACxB,aAAaD,CAAS,EACtBA,EAAY,WAAW,IAAMF,EAAK,MAAM,KAAMG,CAAI,EAAGF,CAAK,CAC3D,CACH,CAEA,MAAMG,EAAgBL,EAASJ,GAAQ,CACrCD,EAASC,CAAI,CACf,EAAG,GAAG,EAEN,SAASU,EAAcC,EAAO,CAC5B,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAO,EAAGF,EAAM,OAC9B,GAAI,CAAC,CAAC,QAAS,SAAS,EAAE,SAASC,CAAI,EAAG,OAEtChB,IACF,aAAa,WAAWD,CAAW,EACnCC,EAAY,IAId,MAAMkB,EAAc,CAAE,GADJjB,EAAc,EACI,CAACe,CAAI,EAAGC,EAAM,MAAQ,EAE1DJ,EAAcK,CAAW,CAC3B,CAEA,SAASC,EAAaJ,EAAO,CAC3BA,EAAM,eAAgB,EAEtB,MAAMR,EAAQT,EAAK,SAAS,MAAM,MAAM,KAAM,EACxCsB,EAAUtB,EAAK,SAAS,QAAQ,MAAM,KAAM,EAElD,GAAI,CAACS,GAAS,CAACa,EAAS,CACtB,MAAM,iDAAiD,EACvD,MACJ,CAEE,GAAI,CAACd,EAAaC,CAAK,EAAG,CACxB,MAAM,wCAAwC,EAC9C,MACJ,CAGE,QAAQ,IAAI,mBADU,CAAE,MAAAA,EAAO,QAAAa,CAAS,CACK,EAE7C,aAAa,WAAWrB,CAAW,EACnCD,EAAK,MAAO,EACZE,EAAY,EACd,CAEAF,EAAK,iBAAiB,QAASgB,CAAa,EAC5ChB,EAAK,iBAAiB,SAAUqB,CAAY,EAE5Cd,EAAc"}